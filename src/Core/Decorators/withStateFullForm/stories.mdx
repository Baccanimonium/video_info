import { Meta } from '@storybook/addon-docs/blocks'
import withStateFullForm from './index'

# Добавление декоратора формы с валидацией и состоянием
<Meta
    title="Core/Decorators/withStateFullForm"
    component={withStateFullForm()}
/>

#### Примеры подключения

```
import React, { Component } from "react"

import withStateFullForm from "@/Core/Decorators/withStateFullForm"
class Form extends Component {
    ...
}

export default withStateFullForm(Page)

```


#### Пропсы формы

| Название | обязательна | Описание |
|---|---|---|
| `initPayload` | - | Изначальное значение формы |


Форма содержит внутри себя валидатор и требует все пропсы валидатора и список можно посмотреть в документации валидатора
[Документация WithValidation](?path=/docs/core-decorators-withvalidation--page)


#### Render Prop pattern

Используется для того чтобы создать форму где-то в компоненте и разделить состояние формы между детьми

```
import { RenderPropStateFullForm } from "@/Core/Decorators/withValidation"
import Form from "@/Components/Forms"

const SomePage = () => (
    <div>
        <RenderPropStateFullForm
            onInput={onFormInput}
            onSubmit={fullFormSave}
            value={brief}
            rules={rules}
        >
            {(formProps) => {
                const { formValid, onSubmit, onInput } = formProps
                return (
                <>
                    <Form {...formProps} onChange={onBriefChange} />
                    <BsButton Click={onSubmit} disabled={formValid}>
                        Сохранить
                    </BsButton>
                </>
            }
        </WithValidationHocRenderPropAdapter
    </div>
)
```


#### Используется

* В компоненте модальных окон
* В Добавлении комментариев сделки
* В форме генерации пароля в создании и редактировании пользователей
* В Контекстных окнах
